extends ../layout

mixin navbar-open-archi(name, text, id, style, href, image, textColor)
    - if (!style) var style = "default";
    - if (!href) var href = "#";
    nav( role="navigation", class=["navbar", "navbar-fixed-top", "navbar-" + style], id=name)
        .container
            .navbar-header
                button.navbar-toggle.collapsed( type="button", data-toggle="collapse", data-target="#" + id, aria-expanded="false", aria-controls="navbar")
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                div(style="display: flex;")
                    a(href=href)
                        img(alt=name, src=image)&attributes(attributes)
                    if text
                        span
                            if textColor
                                h2(style="color: " + textColor)= text
                            else
                                h2= text
            .collapse.navbar-collapse( id=id )
                ul.nav.navbar-nav
                    block extra-menu-elements
                ul.nav.navbar-nav.navbar-right
                    block

block body
    // Fixed navbar
    +navbar-open-archi("menu", null, "navbar", null, "/open-archi", "/images/open-archi.png", "#1E97C2")(width="90px", height="50px")
        if authorized
            +nav_item("#")= login
            +nav_item("#")(style='padding-top: 8px')
                +img-thumbnail(avatar, 'Profile avatar', 'padding: 0; margin: 0')(width="35px", height="35px")
            +nav_item("/open-archi/logout", null, 'padding-top: 5px;padding-bottom: 0px')
                a.btn.btn-danger(href='/open-archi/logout', style='padding: 5px; color: white; margin-top: 4px;') Logout
    block content